function toKebabCase$1(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}function elementRenderer(e,t){for(;t.firstChild;)t.removeChild(t.firstChild);let r;if("string"==typeof e)r=document.createElement("div"),r.innerHTML=e;else{if(!e.nodeName)throw new Error(`Unable to render ${e}. Have you included a renderer function?`);r=e}r&&t.appendChild(r)}function createCustomElement(e,t){const r=function(e){if(!e)return[];const t=[];return Object.keys(e).forEach((r=>{(null==e[r].observed||e[r].observed)&&t.push(toKebabCase$1(r))})),t}(t.props);globalThis.customElements.get(e)||globalThis.customElements.define(e,class extends globalThis.HTMLElement{static get observedAttributes(){return r}get componentTagName(){return e}connectedCallback(){null==this.connectedCallbackCount&&(this.connectedCallbackCount=0),this.connectedCallbackCount=this.connectedCallbackCount+1,this._checkInit(),this._preprocess()}disconnectedCallback(){"function"==typeof this.removed&&(this.removed(),this.isRemovedCalled=!0)}attributeChangedCallback(){null!=this.connectedCallbackCount&&(this._checkInit(),this._preprocess())}get initialised(){return this._props&&this._computed&&this.templateRenderer}_checkInit(){this.initialised||this._init(t)}_init(t){this.ficusCustomElement=e,this._props=t.props||{},this._computed=t.computed||{},this.computedCache={},this.status="render",this.connectedCallbackCount=0,this.props=this._processProps(),this.root=this._processRoot(t.root),this.slots=this._processSlots(),this.render=t.render||null,this.templateRenderer=t.renderer||elementRenderer,this.template=null,this.created=t.created||null,this.mounted=t.mounted||null,this.updated=t.updated||null,this.removed=t.removed||null,this.isCreatedCalled=!1,this.isMountedCalled=!1,this.isRemovedCalled=!1,this.emit=(e,t)=>{!function(e,t,r={}){const s=Object.assign({},{bubbles:!0,cancelable:!0,composed:!1},r),i=globalThis.document.createEvent("CustomEvent");i.initCustomEvent(t,s.bubbles,s.cancelable,s.detail),Object.defineProperty(i,"composed",{value:s.composed}),e.dispatchEvent(i)}(this,e,{detail:t})},this._processMethodsAndComputedProps(t),this._processInstanceProps(this._props),"function"!=typeof this.created||this.isCreatedCalled||(this.created(),this.isCreatedCalled=!0)}_processProps(){const e={};return Object.keys(this._props).forEach((t=>{const r={},s=this._props[t],i=this._getAttribute(t);let n=null;if(null!=s.default&&(n=s.default),s.required&&null==i)null!=n?(console.info(`No biggie, the required prop '${t}' has no value set, so the default has been set`),r[t]=n):(r[t]=null,console.error(`The required prop '${t}' has no value set`));else switch(s.type){case String:default:r[t]=i||n;break;case Number:r[t]=null!=i?parseFloat(i):null!=n?n:0;break;case Boolean:r[t]=null!=i?"true"===i.toString():null!=n&&n;break;case Object:try{r[t]=null!=i?JSON.parse(i):null!=n?n:void 0}catch(e){r[t]=null!=n?n:void 0,console.error(`An object prop parse issue occurred with prop ${t} and value ${i}`)}}e[t]=r[t],this._instanceProps&&this._instanceProps[t]&&(e[t]=this._instanceProps[t])})),e}_processMethodsAndComputedProps(e){const t=this,r=Object.keys(e);r.length&&r.forEach((r=>{t[r]||"function"!=typeof e[r]||(t[r]=e[r].bind(t)),"computed"===r&&this._processComputed(e[r])}))}_processRoot(e){switch(e){case"standard":default:return this;case"shadow":return this.attachShadow({mode:"open"});case"shadow:closed":return this.attachShadow({mode:"closed"})}}_processComputed(e){const t=this,r=Object.keys(e);r.length&&r.forEach((r=>{t[r]?console.warn(`Computed property '${r}' already exists on the component instance`):Object.defineProperty(t,r,{get:()=>(t.computedCache[r]||(t.computedCache[r]=e[r].bind(t)()),t.computedCache[r])})}))}_processRender(){const e=this.render?this.render():void 0;e&&(this.template=e,this._updateRender())}_processSlots(){const e=this.childNodes,t={default:[]};return e.length>0&&[...e].forEach((e=>{const r=e.getAttribute?e.getAttribute("slot"):null;r?t[r]=e:t.default.push(e)})),t}_getAttribute(e){try{return this.getAttribute(toKebabCase$1(e))}catch(e){return console.error("A get prop error occurred",e),""}}_processInstanceProps(e){const t=this,r=Object.keys(e);e&&r.forEach((e=>{let r;t[e]&&(r=t[e],delete t[e]),Object.defineProperty(t,e,{get(){return this._instanceProps&&this._instanceProps[e]?this._instanceProps[e]:this.getAttribute(toKebabCase$1(e))},set(t){return this._instanceProps||(this._instanceProps={}),this._instanceProps[e]=t,this.setAttribute(toKebabCase$1(e),"object"==typeof t?JSON.stringify(t):t.toString()),!0},enumerable:!0}),r&&(t[e]=r)}))}_preprocess(){this.computedCache={},this.props=this._processProps(),this._processRender()}_updateRender(){var e;this.template&&("object"!=typeof(e=this.template)&&"function"!=typeof e||"function"!=typeof e.then?(this.templateRenderer(this.template,this.root),this._callLifecycleMethods()):this.template.then((e=>{this.templateRenderer(e,this.root),this._callLifecycleMethods()})).catch((e=>console.error("A component render error occurred",e))))}_callLifecycleMethods(){"function"!=typeof this.mounted||this.isMountedCalled||this.mounted(),this.isMountedCalled=!0,"function"==typeof this.updated&&this.isMountedCalled&&this.updated()}})}function isPromise$1(e){return("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then}function withLocalState(e){return{...e,created(){if(e.state&&"function"!=typeof e.state)throw new Error("State must be a function!");this._state=e.state||{},"function"==typeof this._state&&(this._state=this._state.bind(this)()),this.state=this._monitorState(this._state),this.setState=(e,t)=>{const setter=e=>{if(!e||"object"!=typeof e)return;const r=this.updated;t&&(this.updated=()=>{t(),this.updated=r||void 0}),this.status="transaction";for(const t in e)this.state[t]&&this.state[t]===e[t]||(this.state[t]=e[t]);this.status="render",this._processRender()},r=e(this.state);isPromise$1(r)?r.then(setter):setter(r)},e.created&&e.created.call(this)},_monitorState(e){const t=this;return new Proxy(e,{set:(e,r,s)=>(e[r]===s||(e[r]=s,t.computedCache={},"render"===t.status&&t._processRender()),!0)})}}}function createComponent(e,t){createCustomElement(e,withLocalState(t))}function createEventBus(){return new class{constructor(){if(globalThis.__ficusjs__&&globalThis.__ficusjs__.eventBus)return globalThis.__ficusjs__.eventBus;this.subscribers={},globalThis.__ficusjs__=globalThis.__ficusjs__||{},globalThis.__ficusjs__.eventBus=globalThis.__ficusjs__.eventBus||this}getSubscribers(e){return e?this.subscribers[e]:this.subscribers}subscribe(e,t,r={}){const s=this,i={callCount:0,fireOnce:!1,...r};return s.subscribers[e]||(s.subscribers[e]=new Map),s.subscribers[e].set(t,i),()=>{const r=new Map;s.subscribers[e].forEach(((e,s)=>s!==t&&r.set(s,e))),s.subscribers[e]=r}}publish(e,t){if(!this.subscribers[e])return[];const r=new Map;return this.subscribers[e].forEach(((e,s)=>{e.fireOnce&&1===e.callCount||(s(t),++e.callCount,r.set(s,e))})),r}}}function getEventBus(){return createEventBus()}function createPersist(e,t="session"){return new class{constructor(e,t){this.namespace=e,this.storage=t}setState(e){e?(this.storage.setItem(`${this.namespace}:state`,"string"==typeof e?e:JSON.stringify(e)),this.storage.setItem(`${this.namespace}:lastUpdated`,(new Date).getTime().toString())):this.removeState()}getState(){const e=this.storage.getItem(`${this.namespace}:state`);return e?JSON.parse(e):void 0}lastUpdated(){const e=this.storage.getItem(`${this.namespace}:lastUpdated`);return e?parseInt(e,10):void 0}removeState(){this.storage.removeItem(`${this.namespace}:state`),this.storage.removeItem(`${this.namespace}:lastUpdated`)}}(e,"local"===t?globalThis.localStorage:globalThis.sessionStorage)}function createStore(e,t){let r=getStore(e);return r||(r=new class{constructor(e){const t=this;t.getters={},t.actions={},t.mutations={},t.state={},t.getterCache={},t.status="resting",t.transaction=!1,t.transactionCache={},t.callbacks=[],e.getters&&(t.getters=new Proxy(e.getters||{},{get:(e,r)=>(t.getterCache[r]||(t.getterCache[r]=e[r](t.state)),t.getterCache[r])})),e.actions&&(t.actions=e.actions),e.mutations&&(t.mutations=e.mutations);let r=e.initialState||{};if(t.copyOfInitialState=t._copyValue(r),t.ttl=-1,t.lastUpdatedState={},e.ttl&&(t.ttl=e.ttl,Object.keys(t.copyOfInitialState).forEach((e=>t.lastUpdatedState[e]=(new Date).getTime()))),e.persist){t.persist="string"==typeof e.persist?createPersist(e.persist):e.persist;const s=t.persist.getState(),i=t.persist.lastUpdated();s&&i&&(-1===t.ttl||t._lastUpdatedTimeDiff(i)<t.ttl)&&(r=s)}this._processState(r)}_processState(e){const t=this;t.state=new Proxy(e,{set:(e,r,s)=>(t.transaction&&!t.transactionCache[r]&&(t.transactionCache[r]=t._copyValue(e[r])),e[r]=s,t.lastUpdatedState[r]=(new Date).getTime(),t.getterCache={},t.transaction||(t.persist&&t.persist.setState(t.state),t.status="resting",t._processCallbacks(t.state)),!0),get:(e,r)=>t.ttl>-1&&t._lastUpdatedTimeDiff(t.lastUpdatedState[r])>t.ttl?(t.persist&&t.persist.removeState(),t.copyOfInitialState[r]):e[r]})}_lastUpdatedTimeDiff(e){return Math.round(((new Date).getTime()-e)/1e3)}dispatch(e,t){return"function"!=typeof this.actions[e]?(console.error(`Dude, the store action "${e}" doesn't exist.`),!1):(this.status="action",this.actions[e](this,t))}commit(e,t){if("function"!=typeof this.mutations[e])return console.error(`Dude, the store mutation "${e}" doesn't exist`),!1;this.status="mutation";const r=this.mutations[e](this.state,t);return this.state=r,this.persist&&this.persist.setState(r),!0}_processCallbacks(e){return!(!this.callbacks.length||this.transaction||(this.callbacks.forEach((t=>t(e))),0))}subscribe(e){return"function"!=typeof e?(console.error("Dude, you can only subscribe to store changes with a valid function"),!1):(this.callbacks.push(e),()=>{this.callbacks=this.callbacks.filter((t=>t!==e))})}_copyValue(e){return JSON.parse(JSON.stringify(e))}begin(){this.transactionCache={},this.transaction=!0}end(){this.transaction=!1,this._processCallbacks(this.state)}rollback(){Object.keys(this.transactionCache).forEach((e=>this.state[e]=this.transactionCache[e])),this.end()}clear(e=!0){this.getterCache={},this.transactionCache={},this.lastUpdatedState={},this.persist&&this.persist.removeState(),this.transaction=!0,this.status="clear";const t=this._copyValue(this.copyOfInitialState);for(const e in t)this.state[e]=t[e];this.transaction=!1,this.status="resting",e&&this._processCallbacks(this.state)}}(t),console.warn("createStore function is deprecated. Use createAppState and getAppState in v3.3.0 to create stores"),globalThis.__ficusjs__=globalThis.__ficusjs__||{},globalThis.__ficusjs__.store=globalThis.__ficusjs__.store||{},globalThis.__ficusjs__.store[e]=r,r)}function getStore(e){if(console.warn("getStore function is deprecated. Use createAppState and getAppState in v3.3.0 to create stores"),globalThis.__ficusjs__&&globalThis.__ficusjs__.store&&globalThis.__ficusjs__.store[e])return globalThis.__ficusjs__.store[e]}function createAppState(e,t){let r=getAppState(e);return r||(r=new class{constructor(e){const t=this;t.state={},t.getterCache={},t.status="resting",t.transaction=!1,t.transactionCache={},t.callbacks=[],this._processActions(e);let r=e.initialState||{};if(t.copyOfInitialState=t._copyValue(r),t.ttl=-1,t.lastUpdatedState={},e.ttl&&(t.ttl=e.ttl,Object.keys(t.copyOfInitialState).forEach((e=>t.lastUpdatedState[e]=(new Date).getTime()))),e.persist){t.persist="string"==typeof e.persist?createPersist(e.persist):e.persist;const s=t.persist.getState(),i=t.persist.lastUpdated();s&&i&&(-1===t.ttl||t._lastUpdatedTimeDiff(i)<t.ttl)&&(r=s)}this._processState(r)}_processActions(e){const t=this,r=Object.keys(e);r.length&&r.forEach((r=>{t[r]||"function"!=typeof e[r]||(t[r]=e[r].bind(t))}))}_processState(e){const t=this;t.state=new Proxy(e,{set:(e,r,s)=>(t.transaction&&!t.transactionCache[r]&&(t.transactionCache[r]=t._copyValue(e[r])),e[r]=s,t.lastUpdatedState[r]=(new Date).getTime(),t.getterCache={},t.transaction||(t.persist&&t.persist.setState(t.state),t.status="resting",t._processCallbacks(t.state)),!0),get:(e,r)=>t.ttl>-1&&t._lastUpdatedTimeDiff(t.lastUpdatedState[r])>t.ttl?(t.persist&&t.persist.removeState(),t.copyOfInitialState[r]):e[r]})}_lastUpdatedTimeDiff(e){return Math.round((new Date).getTime()-e)}setState(e){const setter=e=>{if(!e||"object"!=typeof e)return;const t=this.transaction;t||(this.transactionCache={},this.transaction=!0);for(const t in e)this.state[t]&&this.state[t]===e[t]||(this.state[t]=e[t]);t||(this.transaction=!1,this.persist&&this.persist.setState(this.state),this._processCallbacks(this.state))},t=e(this.state);isPromise$1(t)?t.then(setter):setter(t)}getState(e){if(e){if(!this.getterCache[e]){const t=(Array.isArray(e)?e:e.match(/([^[.\]])+/g)).reduce(((e,t)=>e&&e[t]),this.state);if(null==t)return;this.getterCache[e]=t}return this.getterCache[e]}}_processCallbacks(e){return!!this.callbacks.length&&(this.callbacks.forEach((t=>t(e))),!0)}subscribe(e){if("function"!=typeof e)throw new Error("Dude, you can only subscribe to store changes with a valid function");return this.callbacks.push(e),()=>{this.callbacks=this.callbacks.filter((t=>t!==e))}}_copyValue(e){return e?JSON.parse(JSON.stringify(e)):e}clear(e=!0){this.getterCache={},this.transactionCache={},this.lastUpdatedState={},this.persist&&this.persist.removeState(),this.transaction=!0,this.status="clear";const t=this._copyValue(this.copyOfInitialState);for(const e in t)this.state[e]=t[e];this.transaction=!1,this.status="resting",e&&this._processCallbacks(this.state)}}(t),globalThis.__ficusjs__=globalThis.__ficusjs__||{},globalThis.__ficusjs__.store=globalThis.__ficusjs__.store||{},globalThis.__ficusjs__.store[e]=r,r)}function getAppState(e){if(globalThis.__ficusjs__&&globalThis.__ficusjs__.store&&globalThis.__ficusjs__.store[e])return globalThis.__ficusjs__.store[e]}function createI18n(){return new class{constructor(){if(globalThis.__ficusjs__&&globalThis.__ficusjs__.i18n)return globalThis.__ficusjs__.i18n;this.registry={},this.currentLocale="en",this.interpolateRE=/{{\s*(\w+)\s*}}/g,this.pluralizationRules={en:{pluralizeTo:"count",getVariationIndex:e=>1===e?0:1}},this._init(),globalThis.__ficusjs__=globalThis.__ficusjs__||{},globalThis.__ficusjs__.i18n=globalThis.__ficusjs__.i18n||this}_init(){if("undefined"!=typeof window&&"undefined"!=typeof document){const e=new URLSearchParams(window.location.search).get("lang")||(document.documentElement.lang?document.documentElement.lang:navigator.language);e&&this.setLocale(e)}}_translatePlural(e,t,r,s,i){const n=this.pluralizationRules[s],a=Object.keys(r),o=1===a.length?a[0]:i||n.pluralizeTo,l=parseFloat(r[o]);if(isNaN(l))throw new Error(`Translation pluralization missing parameters on key '${e}'`);return this._interpolate(t[n.getVariationIndex(l)],r)}_interpolate(e,t){return t?e.replace(this.interpolateRE,(function(e,r){return null!=t[r]?t[r]:e})):e}t(e,t,r){const s=(r=r||{}).locale||this.currentLocale,i=r.registry||this.registry,n=i[s]&&i[s][e];return void 0===n?this.whenUndefined(e,s):Array.isArray(n)?this._translatePlural(e,n,t,s,r.pluralizeTo):this._interpolate(n,t)}add(e,t,r){return t=t||this.currentLocale,this.registry[t]=this.registry[t]||{},Object.keys(e).forEach((s=>{const i=e[s],n=r?r+"."+s:s,a=typeof i;Array.isArray(i)||"string"===a||"number"===a?this.registry[t][n]=i:this.add(i,t,n)})),this}setLocale(e){return this.currentLocale=e,this}getLocale(){return this.currentLocale}interpolateWith(e){return this.interpolateRE=e,this}setPluralizationRule(e,t,r){return this.pluralizationRules[e]={pluralizeTo:r&&(r.pluralizeTo||"count"),getVariationIndex:t},this}whenUndefined(e,t){return e}clear(){return this.registry={},this}}}function getI18n(){return createI18n()}function use(e,{renderer:t,...r}){if(e.create&&"function"==typeof e.create)return e.create({createCustomElement:createCustomElement,renderer:t,...r,createComponent:createComponent,createEventBus:createEventBus,getEventBus:getEventBus,createAppState:createAppState,getAppState:getAppState,createPersist:createPersist,createStore:createStore,getStore:getStore,createI18n:createI18n,getI18n:getI18n,use:use})}var e,t,r=(e=function(e,t){!function(){var t,r,s,i,n,a,o,l,c,u,h,d,p,f,m,y,g,b,v,_,x,w,S,E,C,T,P=function(e){var t=new P.Builder;return t.pipeline.add(P.trimmer,P.stopWordFilter,P.stemmer),t.searchPipeline.add(P.stemmer),e.call(t,t),t.build()};P.version="2.3.9",
/*!
     * lunr.utils
     * Copyright (C) 2020 Oliver Nightingale
     */
P.utils={},P.utils.warn=(t=this,function(e){t.console&&console.warn&&console.warn(e)}),P.utils.asString=function(e){return null==e?"":e.toString()},P.utils.clone=function(e){if(null==e)return e;for(var t=Object.create(null),r=Object.keys(e),s=0;s<r.length;s++){var i=r[s],n=e[i];if(Array.isArray(n))t[i]=n.slice();else{if("string"!=typeof n&&"number"!=typeof n&&"boolean"!=typeof n)throw new TypeError("clone is not deep and does not support nested objects");t[i]=n}}return t},P.FieldRef=function(e,t,r){this.docRef=e,this.fieldName=t,this._stringValue=r},P.FieldRef.joiner="/",P.FieldRef.fromString=function(e){var t=e.indexOf(P.FieldRef.joiner);if(-1===t)throw"malformed field ref string";var r=e.slice(0,t),s=e.slice(t+1);return new P.FieldRef(s,r,e)},P.FieldRef.prototype.toString=function(){return null==this._stringValue&&(this._stringValue=this.fieldName+P.FieldRef.joiner+this.docRef),this._stringValue
/*!
     * lunr.Set
     * Copyright (C) 2020 Oliver Nightingale
     */},P.Set=function(e){if(this.elements=Object.create(null),e){this.length=e.length;for(var t=0;t<this.length;t++)this.elements[e[t]]=!0}else this.length=0},P.Set.complete={intersect:function(e){return e},union:function(){return this},contains:function(){return!0}},P.Set.empty={intersect:function(){return this},union:function(e){return e},contains:function(){return!1}},P.Set.prototype.contains=function(e){return!!this.elements[e]},P.Set.prototype.intersect=function(e){var t,r,s,i=[];if(e===P.Set.complete)return this;if(e===P.Set.empty)return e;this.length<e.length?(t=this,r=e):(t=e,r=this),s=Object.keys(t.elements);for(var n=0;n<s.length;n++){var a=s[n];a in r.elements&&i.push(a)}return new P.Set(i)},P.Set.prototype.union=function(e){return e===P.Set.complete?P.Set.complete:e===P.Set.empty?this:new P.Set(Object.keys(this.elements).concat(Object.keys(e.elements)))},P.idf=function(e,t){var r=0;for(var s in e)"_index"!=s&&(r+=Object.keys(e[s]).length);var i=(t-r+.5)/(r+.5);return Math.log(1+Math.abs(i))},P.Token=function(e,t){this.str=e||"",this.metadata=t||{}},P.Token.prototype.toString=function(){return this.str},P.Token.prototype.update=function(e){return this.str=e(this.str,this.metadata),this},P.Token.prototype.clone=function(e){return e=e||function(e){return e},new P.Token(e(this.str,this.metadata),this.metadata)
/*!
     * lunr.tokenizer
     * Copyright (C) 2020 Oliver Nightingale
     */},P.tokenizer=function(e,t){if(null==e||null==e)return[];if(Array.isArray(e))return e.map((function(e){return new P.Token(P.utils.asString(e).toLowerCase(),P.utils.clone(t))}));for(var r=e.toString().toLowerCase(),s=r.length,i=[],n=0,a=0;n<=s;n++){var o=n-a;if(r.charAt(n).match(P.tokenizer.separator)||n==s){if(o>0){var l=P.utils.clone(t)||{};l.position=[a,o],l.index=i.length,i.push(new P.Token(r.slice(a,n),l))}a=n+1}}return i},P.tokenizer.separator=/[\s\-]+/,
/*!
     * lunr.Pipeline
     * Copyright (C) 2020 Oliver Nightingale
     */
P.Pipeline=function(){this._stack=[]},P.Pipeline.registeredFunctions=Object.create(null),P.Pipeline.registerFunction=function(e,t){t in this.registeredFunctions&&P.utils.warn("Overwriting existing registered function: "+t),e.label=t,P.Pipeline.registeredFunctions[e.label]=e},P.Pipeline.warnIfFunctionNotRegistered=function(e){e.label&&e.label in this.registeredFunctions||P.utils.warn("Function is not registered with pipeline. This may cause problems when serialising the index.\n",e)},P.Pipeline.load=function(e){var t=new P.Pipeline;return e.forEach((function(e){var r=P.Pipeline.registeredFunctions[e];if(!r)throw new Error("Cannot load unregistered function: "+e);t.add(r)})),t},P.Pipeline.prototype.add=function(){var e=Array.prototype.slice.call(arguments);e.forEach((function(e){P.Pipeline.warnIfFunctionNotRegistered(e),this._stack.push(e)}),this)},P.Pipeline.prototype.after=function(e,t){P.Pipeline.warnIfFunctionNotRegistered(t);var r=this._stack.indexOf(e);if(-1==r)throw new Error("Cannot find existingFn");r+=1,this._stack.splice(r,0,t)},P.Pipeline.prototype.before=function(e,t){P.Pipeline.warnIfFunctionNotRegistered(t);var r=this._stack.indexOf(e);if(-1==r)throw new Error("Cannot find existingFn");this._stack.splice(r,0,t)},P.Pipeline.prototype.remove=function(e){var t=this._stack.indexOf(e);-1!=t&&this._stack.splice(t,1)},P.Pipeline.prototype.run=function(e){for(var t=this._stack.length,r=0;r<t;r++){for(var s=this._stack[r],i=[],n=0;n<e.length;n++){var a=s(e[n],n,e);if(null!=a&&""!==a)if(Array.isArray(a))for(var o=0;o<a.length;o++)i.push(a[o]);else i.push(a)}e=i}return e},P.Pipeline.prototype.runString=function(e,t){var r=new P.Token(e,t);return this.run([r]).map((function(e){return e.toString()}))},P.Pipeline.prototype.reset=function(){this._stack=[]},P.Pipeline.prototype.toJSON=function(){return this._stack.map((function(e){return P.Pipeline.warnIfFunctionNotRegistered(e),e.label}))},
/*!
     * lunr.Vector
     * Copyright (C) 2020 Oliver Nightingale
     */
P.Vector=function(e){this._magnitude=0,this.elements=e||[]},P.Vector.prototype.positionForIndex=function(e){if(0==this.elements.length)return 0;for(var t=0,r=this.elements.length/2,s=r-t,i=Math.floor(s/2),n=this.elements[2*i];s>1&&(n<e&&(t=i),n>e&&(r=i),n!=e);)s=r-t,i=t+Math.floor(s/2),n=this.elements[2*i];return n==e||n>e?2*i:n<e?2*(i+1):void 0},P.Vector.prototype.insert=function(e,t){this.upsert(e,t,(function(){throw"duplicate index"}))},P.Vector.prototype.upsert=function(e,t,r){this._magnitude=0;var s=this.positionForIndex(e);this.elements[s]==e?this.elements[s+1]=r(this.elements[s+1],t):this.elements.splice(s,0,e,t)},P.Vector.prototype.magnitude=function(){if(this._magnitude)return this._magnitude;for(var e=0,t=this.elements.length,r=1;r<t;r+=2){var s=this.elements[r];e+=s*s}return this._magnitude=Math.sqrt(e)},P.Vector.prototype.dot=function(e){for(var t=0,r=this.elements,s=e.elements,i=r.length,n=s.length,a=0,o=0,l=0,c=0;l<i&&c<n;)(a=r[l])<(o=s[c])?l+=2:a>o?c+=2:a==o&&(t+=r[l+1]*s[c+1],l+=2,c+=2);return t},P.Vector.prototype.similarity=function(e){return this.dot(e)/this.magnitude()||0},P.Vector.prototype.toArray=function(){for(var e=new Array(this.elements.length/2),t=1,r=0;t<this.elements.length;t+=2,r++)e[r]=this.elements[t];return e},P.Vector.prototype.toJSON=function(){return this.elements},
/*!
     * lunr.stemmer
     * Copyright (C) 2020 Oliver Nightingale
     * Includes code from - http://tartarus.org/~martin/PorterStemmer/js.txt
     */
P.stemmer=(r={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},s={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""},i="[aeiouy]",n="[^aeiou][^aeiouy]*",a=new RegExp("^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*"),o=new RegExp("^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*[aeiouy][aeiou]*[^aeiou][^aeiouy]*"),l=new RegExp("^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*([aeiouy][aeiou]*)?$"),c=new RegExp("^([^aeiou][^aeiouy]*)?[aeiouy]"),u=/^(.+?)(ss|i)es$/,h=/^(.+?)([^s])s$/,d=/^(.+?)eed$/,p=/^(.+?)(ed|ing)$/,f=/.$/,m=/(at|bl|iz)$/,y=new RegExp("([^aeiouylsz])\\1$"),g=new RegExp("^"+n+i+"[^aeiouwxy]$"),b=/^(.+?[^aeiou])y$/,v=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,_=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,x=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/,w=/^(.+?)(s|t)(ion)$/,S=/^(.+?)e$/,E=/ll$/,C=new RegExp("^"+n+i+"[^aeiouwxy]$"),T=function(e){var t,i,n,T,k,L,O;if(e.length<3)return e;if("y"==(n=e.substr(0,1))&&(e=n.toUpperCase()+e.substr(1)),k=h,(T=u).test(e)?e=e.replace(T,"$1$2"):k.test(e)&&(e=e.replace(k,"$1$2")),k=p,(T=d).test(e)){var I=T.exec(e);(T=a).test(I[1])&&(T=f,e=e.replace(T,""))}else k.test(e)&&(t=(I=k.exec(e))[1],(k=c).test(t)&&(L=y,O=g,(k=m).test(e=t)?e+="e":L.test(e)?(T=f,e=e.replace(T,"")):O.test(e)&&(e+="e")));return(T=b).test(e)&&(e=(t=(I=T.exec(e))[1])+"i"),(T=v).test(e)&&(t=(I=T.exec(e))[1],i=I[2],(T=a).test(t)&&(e=t+r[i])),(T=_).test(e)&&(t=(I=T.exec(e))[1],i=I[2],(T=a).test(t)&&(e=t+s[i])),k=w,(T=x).test(e)?(t=(I=T.exec(e))[1],(T=o).test(t)&&(e=t)):k.test(e)&&(t=(I=k.exec(e))[1]+I[2],(k=o).test(t)&&(e=t)),(T=S).test(e)&&(t=(I=T.exec(e))[1],k=l,L=C,((T=o).test(t)||k.test(t)&&!L.test(t))&&(e=t)),k=o,(T=E).test(e)&&k.test(e)&&(T=f,e=e.replace(T,"")),"y"==n&&(e=n.toLowerCase()+e.substr(1)),e},function(e){return e.update(T)}),P.Pipeline.registerFunction(P.stemmer,"stemmer"),
/*!
     * lunr.stopWordFilter
     * Copyright (C) 2020 Oliver Nightingale
     */
P.generateStopWordFilter=function(e){var t=e.reduce((function(e,t){return e[t]=t,e}),{});return function(e){if(e&&t[e.toString()]!==e.toString())return e}},P.stopWordFilter=P.generateStopWordFilter(["a","able","about","across","after","all","almost","also","am","among","an","and","any","are","as","at","be","because","been","but","by","can","cannot","could","dear","did","do","does","either","else","ever","every","for","from","get","got","had","has","have","he","her","hers","him","his","how","however","i","if","in","into","is","it","its","just","least","let","like","likely","may","me","might","most","must","my","neither","no","nor","not","of","off","often","on","only","or","other","our","own","rather","said","say","says","she","should","since","so","some","than","that","the","their","them","then","there","these","they","this","tis","to","too","twas","us","wants","was","we","were","what","when","where","which","while","who","whom","why","will","with","would","yet","you","your"]),P.Pipeline.registerFunction(P.stopWordFilter,"stopWordFilter"),
/*!
     * lunr.trimmer
     * Copyright (C) 2020 Oliver Nightingale
     */
P.trimmer=function(e){return e.update((function(e){return e.replace(/^\W+/,"").replace(/\W+$/,"")}))},P.Pipeline.registerFunction(P.trimmer,"trimmer"),
/*!
     * lunr.TokenSet
     * Copyright (C) 2020 Oliver Nightingale
     */
P.TokenSet=function(){this.final=!1,this.edges={},this.id=P.TokenSet._nextId,P.TokenSet._nextId+=1},P.TokenSet._nextId=1,P.TokenSet.fromArray=function(e){for(var t=new P.TokenSet.Builder,r=0,s=e.length;r<s;r++)t.insert(e[r]);return t.finish(),t.root},P.TokenSet.fromClause=function(e){return"editDistance"in e?P.TokenSet.fromFuzzyString(e.term,e.editDistance):P.TokenSet.fromString(e.term)},P.TokenSet.fromFuzzyString=function(e,t){for(var r=new P.TokenSet,s=[{node:r,editsRemaining:t,str:e}];s.length;){var i=s.pop();if(i.str.length>0){var n,a=i.str.charAt(0);a in i.node.edges?n=i.node.edges[a]:(n=new P.TokenSet,i.node.edges[a]=n),1==i.str.length&&(n.final=!0),s.push({node:n,editsRemaining:i.editsRemaining,str:i.str.slice(1)})}if(0!=i.editsRemaining){if("*"in i.node.edges)var o=i.node.edges["*"];else o=new P.TokenSet,i.node.edges["*"]=o;if(0==i.str.length&&(o.final=!0),s.push({node:o,editsRemaining:i.editsRemaining-1,str:i.str}),i.str.length>1&&s.push({node:i.node,editsRemaining:i.editsRemaining-1,str:i.str.slice(1)}),1==i.str.length&&(i.node.final=!0),i.str.length>=1){if("*"in i.node.edges)var l=i.node.edges["*"];else l=new P.TokenSet,i.node.edges["*"]=l;1==i.str.length&&(l.final=!0),s.push({node:l,editsRemaining:i.editsRemaining-1,str:i.str.slice(1)})}if(i.str.length>1){var c,u=i.str.charAt(0),h=i.str.charAt(1);h in i.node.edges?c=i.node.edges[h]:(c=new P.TokenSet,i.node.edges[h]=c),1==i.str.length&&(c.final=!0),s.push({node:c,editsRemaining:i.editsRemaining-1,str:u+i.str.slice(2)})}}}return r},P.TokenSet.fromString=function(e){for(var t=new P.TokenSet,r=t,s=0,i=e.length;s<i;s++){var n=e[s],a=s==i-1;if("*"==n)t.edges[n]=t,t.final=a;else{var o=new P.TokenSet;o.final=a,t.edges[n]=o,t=o}}return r},P.TokenSet.prototype.toArray=function(){for(var e=[],t=[{prefix:"",node:this}];t.length;){var r=t.pop(),s=Object.keys(r.node.edges),i=s.length;r.node.final&&(r.prefix.charAt(0),e.push(r.prefix));for(var n=0;n<i;n++){var a=s[n];t.push({prefix:r.prefix.concat(a),node:r.node.edges[a]})}}return e},P.TokenSet.prototype.toString=function(){if(this._str)return this._str;for(var e=this.final?"1":"0",t=Object.keys(this.edges).sort(),r=t.length,s=0;s<r;s++){var i=t[s];e=e+i+this.edges[i].id}return e},P.TokenSet.prototype.intersect=function(e){for(var t=new P.TokenSet,r=void 0,s=[{qNode:e,output:t,node:this}];s.length;){r=s.pop();for(var i=Object.keys(r.qNode.edges),n=i.length,a=Object.keys(r.node.edges),o=a.length,l=0;l<n;l++)for(var c=i[l],u=0;u<o;u++){var h=a[u];if(h==c||"*"==c){var d=r.node.edges[h],p=r.qNode.edges[c],f=d.final&&p.final,m=void 0;h in r.output.edges?(m=r.output.edges[h]).final=m.final||f:((m=new P.TokenSet).final=f,r.output.edges[h]=m),s.push({qNode:p,output:m,node:d})}}}return t},P.TokenSet.Builder=function(){this.previousWord="",this.root=new P.TokenSet,this.uncheckedNodes=[],this.minimizedNodes={}},P.TokenSet.Builder.prototype.insert=function(e){var t,r=0;if(e<this.previousWord)throw new Error("Out of order word insertion");for(var s=0;s<e.length&&s<this.previousWord.length&&e[s]==this.previousWord[s];s++)r++;for(this.minimize(r),t=0==this.uncheckedNodes.length?this.root:this.uncheckedNodes[this.uncheckedNodes.length-1].child,s=r;s<e.length;s++){var i=new P.TokenSet,n=e[s];t.edges[n]=i,this.uncheckedNodes.push({parent:t,char:n,child:i}),t=i}t.final=!0,this.previousWord=e},P.TokenSet.Builder.prototype.finish=function(){this.minimize(0)},P.TokenSet.Builder.prototype.minimize=function(e){for(var t=this.uncheckedNodes.length-1;t>=e;t--){var r=this.uncheckedNodes[t],s=r.child.toString();s in this.minimizedNodes?r.parent.edges[r.char]=this.minimizedNodes[s]:(r.child._str=s,this.minimizedNodes[s]=r.child),this.uncheckedNodes.pop()}},
/*!
     * lunr.Index
     * Copyright (C) 2020 Oliver Nightingale
     */
P.Index=function(e){this.invertedIndex=e.invertedIndex,this.fieldVectors=e.fieldVectors,this.tokenSet=e.tokenSet,this.fields=e.fields,this.pipeline=e.pipeline},P.Index.prototype.search=function(e){return this.query((function(t){new P.QueryParser(e,t).parse()}))},P.Index.prototype.query=function(e){for(var t=new P.Query(this.fields),r=Object.create(null),s=Object.create(null),i=Object.create(null),n=Object.create(null),a=Object.create(null),o=0;o<this.fields.length;o++)s[this.fields[o]]=new P.Vector;for(e.call(t,t),o=0;o<t.clauses.length;o++){var l,c=t.clauses[o],u=P.Set.empty;l=c.usePipeline?this.pipeline.runString(c.term,{fields:c.fields}):[c.term];for(var h=0;h<l.length;h++){var d=l[h];c.term=d;var p=P.TokenSet.fromClause(c),f=this.tokenSet.intersect(p).toArray();if(0===f.length&&c.presence===P.Query.presence.REQUIRED){for(var m=0;m<c.fields.length;m++)n[Q=c.fields[m]]=P.Set.empty;break}for(var y=0;y<f.length;y++){var g=f[y],b=this.invertedIndex[g],v=b._index;for(m=0;m<c.fields.length;m++){var _=b[Q=c.fields[m]],x=Object.keys(_),w=g+"/"+Q,S=new P.Set(x);if(c.presence==P.Query.presence.REQUIRED&&(u=u.union(S),void 0===n[Q]&&(n[Q]=P.Set.complete)),c.presence!=P.Query.presence.PROHIBITED){if(s[Q].upsert(v,c.boost,(function(e,t){return e+t})),!i[w]){for(var E=0;E<x.length;E++){var C,T=x[E],k=new P.FieldRef(T,Q),L=_[T];void 0===(C=r[k])?r[k]=new P.MatchData(g,Q,L):C.add(g,Q,L)}i[w]=!0}}else void 0===a[Q]&&(a[Q]=P.Set.empty),a[Q]=a[Q].union(S)}}}if(c.presence===P.Query.presence.REQUIRED)for(m=0;m<c.fields.length;m++)n[Q=c.fields[m]]=n[Q].intersect(u)}var O=P.Set.complete,I=P.Set.empty;for(o=0;o<this.fields.length;o++){var Q;n[Q=this.fields[o]]&&(O=O.intersect(n[Q])),a[Q]&&(I=I.union(a[Q]))}var A=Object.keys(r),N=[],R=Object.create(null);if(t.isNegated())for(A=Object.keys(this.fieldVectors),o=0;o<A.length;o++){k=A[o];var j=P.FieldRef.fromString(k);r[k]=new P.MatchData}for(o=0;o<A.length;o++){var D=(j=P.FieldRef.fromString(A[o])).docRef;if(O.contains(D)&&!I.contains(D)){var F,$=this.fieldVectors[j],M=s[j.fieldName].similarity($);if(void 0!==(F=R[D]))F.score+=M,F.matchData.combine(r[j]);else{var B={ref:D,score:M,matchData:r[j]};R[D]=B,N.push(B)}}}return N.sort((function(e,t){return t.score-e.score}))},P.Index.prototype.toJSON=function(){var e=Object.keys(this.invertedIndex).sort().map((function(e){return[e,this.invertedIndex[e]]}),this),t=Object.keys(this.fieldVectors).map((function(e){return[e,this.fieldVectors[e].toJSON()]}),this);return{version:P.version,fields:this.fields,fieldVectors:t,invertedIndex:e,pipeline:this.pipeline.toJSON()}},P.Index.load=function(e){var t={},r={},s=e.fieldVectors,i=Object.create(null),n=e.invertedIndex,a=new P.TokenSet.Builder,o=P.Pipeline.load(e.pipeline);e.version!=P.version&&P.utils.warn("Version mismatch when loading serialised index. Current version of lunr '"+P.version+"' does not match serialized index '"+e.version+"'");for(var l=0;l<s.length;l++){var c=(h=s[l])[0],u=h[1];r[c]=new P.Vector(u)}for(l=0;l<n.length;l++){var h,d=(h=n[l])[0],p=h[1];a.insert(d),i[d]=p}return a.finish(),t.fields=e.fields,t.fieldVectors=r,t.invertedIndex=i,t.tokenSet=a.root,t.pipeline=o,new P.Index(t)
/*!
     * lunr.Builder
     * Copyright (C) 2020 Oliver Nightingale
     */},P.Builder=function(){this._ref="id",this._fields=Object.create(null),this._documents=Object.create(null),this.invertedIndex=Object.create(null),this.fieldTermFrequencies={},this.fieldLengths={},this.tokenizer=P.tokenizer,this.pipeline=new P.Pipeline,this.searchPipeline=new P.Pipeline,this.documentCount=0,this._b=.75,this._k1=1.2,this.termIndex=0,this.metadataWhitelist=[]},P.Builder.prototype.ref=function(e){this._ref=e},P.Builder.prototype.field=function(e,t){if(/\//.test(e))throw new RangeError("Field '"+e+"' contains illegal character '/'");this._fields[e]=t||{}},P.Builder.prototype.b=function(e){this._b=e<0?0:e>1?1:e},P.Builder.prototype.k1=function(e){this._k1=e},P.Builder.prototype.add=function(e,t){var r=e[this._ref],s=Object.keys(this._fields);this._documents[r]=t||{},this.documentCount+=1;for(var i=0;i<s.length;i++){var n=s[i],a=this._fields[n].extractor,o=a?a(e):e[n],l=this.tokenizer(o,{fields:[n]}),c=this.pipeline.run(l),u=new P.FieldRef(r,n),h=Object.create(null);this.fieldTermFrequencies[u]=h,this.fieldLengths[u]=0,this.fieldLengths[u]+=c.length;for(var d=0;d<c.length;d++){var p=c[d];if(null==h[p]&&(h[p]=0),h[p]+=1,null==this.invertedIndex[p]){var f=Object.create(null);f._index=this.termIndex,this.termIndex+=1;for(var m=0;m<s.length;m++)f[s[m]]=Object.create(null);this.invertedIndex[p]=f}null==this.invertedIndex[p][n][r]&&(this.invertedIndex[p][n][r]=Object.create(null));for(var y=0;y<this.metadataWhitelist.length;y++){var g=this.metadataWhitelist[y],b=p.metadata[g];null==this.invertedIndex[p][n][r][g]&&(this.invertedIndex[p][n][r][g]=[]),this.invertedIndex[p][n][r][g].push(b)}}}},P.Builder.prototype.calculateAverageFieldLengths=function(){for(var e=Object.keys(this.fieldLengths),t=e.length,r={},s={},i=0;i<t;i++){var n=P.FieldRef.fromString(e[i]),a=n.fieldName;s[a]||(s[a]=0),s[a]+=1,r[a]||(r[a]=0),r[a]+=this.fieldLengths[n]}var o=Object.keys(this._fields);for(i=0;i<o.length;i++){var l=o[i];r[l]=r[l]/s[l]}this.averageFieldLength=r},P.Builder.prototype.createFieldVectors=function(){for(var e={},t=Object.keys(this.fieldTermFrequencies),r=t.length,s=Object.create(null),i=0;i<r;i++){for(var n=P.FieldRef.fromString(t[i]),a=n.fieldName,o=this.fieldLengths[n],l=new P.Vector,c=this.fieldTermFrequencies[n],u=Object.keys(c),h=u.length,d=this._fields[a].boost||1,p=this._documents[n.docRef].boost||1,f=0;f<h;f++){var m,y,g,b=u[f],v=c[b],_=this.invertedIndex[b]._index;void 0===s[b]?(m=P.idf(this.invertedIndex[b],this.documentCount),s[b]=m):m=s[b],y=m*((this._k1+1)*v)/(this._k1*(1-this._b+this._b*(o/this.averageFieldLength[a]))+v),y*=d,y*=p,g=Math.round(1e3*y)/1e3,l.insert(_,g)}e[n]=l}this.fieldVectors=e},P.Builder.prototype.createTokenSet=function(){this.tokenSet=P.TokenSet.fromArray(Object.keys(this.invertedIndex).sort())},P.Builder.prototype.build=function(){return this.calculateAverageFieldLengths(),this.createFieldVectors(),this.createTokenSet(),new P.Index({invertedIndex:this.invertedIndex,fieldVectors:this.fieldVectors,tokenSet:this.tokenSet,fields:Object.keys(this._fields),pipeline:this.searchPipeline})},P.Builder.prototype.use=function(e){var t=Array.prototype.slice.call(arguments,1);t.unshift(this),e.apply(this,t)},P.MatchData=function(e,t,r){for(var s=Object.create(null),i=Object.keys(r||{}),n=0;n<i.length;n++){var a=i[n];s[a]=r[a].slice()}this.metadata=Object.create(null),void 0!==e&&(this.metadata[e]=Object.create(null),this.metadata[e][t]=s)},P.MatchData.prototype.combine=function(e){for(var t=Object.keys(e.metadata),r=0;r<t.length;r++){var s=t[r],i=Object.keys(e.metadata[s]);null==this.metadata[s]&&(this.metadata[s]=Object.create(null));for(var n=0;n<i.length;n++){var a=i[n],o=Object.keys(e.metadata[s][a]);null==this.metadata[s][a]&&(this.metadata[s][a]=Object.create(null));for(var l=0;l<o.length;l++){var c=o[l];null==this.metadata[s][a][c]?this.metadata[s][a][c]=e.metadata[s][a][c]:this.metadata[s][a][c]=this.metadata[s][a][c].concat(e.metadata[s][a][c])}}}},P.MatchData.prototype.add=function(e,t,r){if(!(e in this.metadata))return this.metadata[e]=Object.create(null),void(this.metadata[e][t]=r);if(t in this.metadata[e])for(var s=Object.keys(r),i=0;i<s.length;i++){var n=s[i];n in this.metadata[e][t]?this.metadata[e][t][n]=this.metadata[e][t][n].concat(r[n]):this.metadata[e][t][n]=r[n]}else this.metadata[e][t]=r},P.Query=function(e){this.clauses=[],this.allFields=e},P.Query.wildcard=new String("*"),P.Query.wildcard.NONE=0,P.Query.wildcard.LEADING=1,P.Query.wildcard.TRAILING=2,P.Query.presence={OPTIONAL:1,REQUIRED:2,PROHIBITED:3},P.Query.prototype.clause=function(e){return"fields"in e||(e.fields=this.allFields),"boost"in e||(e.boost=1),"usePipeline"in e||(e.usePipeline=!0),"wildcard"in e||(e.wildcard=P.Query.wildcard.NONE),e.wildcard&P.Query.wildcard.LEADING&&e.term.charAt(0)!=P.Query.wildcard&&(e.term="*"+e.term),e.wildcard&P.Query.wildcard.TRAILING&&e.term.slice(-1)!=P.Query.wildcard&&(e.term=e.term+"*"),"presence"in e||(e.presence=P.Query.presence.OPTIONAL),this.clauses.push(e),this},P.Query.prototype.isNegated=function(){for(var e=0;e<this.clauses.length;e++)if(this.clauses[e].presence!=P.Query.presence.PROHIBITED)return!1;return!0},P.Query.prototype.term=function(e,t){if(Array.isArray(e))return e.forEach((function(e){this.term(e,P.utils.clone(t))}),this),this;var r=t||{};return r.term=e.toString(),this.clause(r),this},P.QueryParseError=function(e,t,r){this.name="QueryParseError",this.message=e,this.start=t,this.end=r},P.QueryParseError.prototype=new Error,P.QueryLexer=function(e){this.lexemes=[],this.str=e,this.length=e.length,this.pos=0,this.start=0,this.escapeCharPositions=[]},P.QueryLexer.prototype.run=function(){for(var e=P.QueryLexer.lexText;e;)e=e(this)},P.QueryLexer.prototype.sliceString=function(){for(var e=[],t=this.start,r=this.pos,s=0;s<this.escapeCharPositions.length;s++)r=this.escapeCharPositions[s],e.push(this.str.slice(t,r)),t=r+1;return e.push(this.str.slice(t,this.pos)),this.escapeCharPositions.length=0,e.join("")},P.QueryLexer.prototype.emit=function(e){this.lexemes.push({type:e,str:this.sliceString(),start:this.start,end:this.pos}),this.start=this.pos},P.QueryLexer.prototype.escapeCharacter=function(){this.escapeCharPositions.push(this.pos-1),this.pos+=1},P.QueryLexer.prototype.next=function(){if(this.pos>=this.length)return P.QueryLexer.EOS;var e=this.str.charAt(this.pos);return this.pos+=1,e},P.QueryLexer.prototype.width=function(){return this.pos-this.start},P.QueryLexer.prototype.ignore=function(){this.start==this.pos&&(this.pos+=1),this.start=this.pos},P.QueryLexer.prototype.backup=function(){this.pos-=1},P.QueryLexer.prototype.acceptDigitRun=function(){var e,t;do{t=(e=this.next()).charCodeAt(0)}while(t>47&&t<58);e!=P.QueryLexer.EOS&&this.backup()},P.QueryLexer.prototype.more=function(){return this.pos<this.length},P.QueryLexer.EOS="EOS",P.QueryLexer.FIELD="FIELD",P.QueryLexer.TERM="TERM",P.QueryLexer.EDIT_DISTANCE="EDIT_DISTANCE",P.QueryLexer.BOOST="BOOST",P.QueryLexer.PRESENCE="PRESENCE",P.QueryLexer.lexField=function(e){return e.backup(),e.emit(P.QueryLexer.FIELD),e.ignore(),P.QueryLexer.lexText},P.QueryLexer.lexTerm=function(e){if(e.width()>1&&(e.backup(),e.emit(P.QueryLexer.TERM)),e.ignore(),e.more())return P.QueryLexer.lexText},P.QueryLexer.lexEditDistance=function(e){return e.ignore(),e.acceptDigitRun(),e.emit(P.QueryLexer.EDIT_DISTANCE),P.QueryLexer.lexText},P.QueryLexer.lexBoost=function(e){return e.ignore(),e.acceptDigitRun(),e.emit(P.QueryLexer.BOOST),P.QueryLexer.lexText},P.QueryLexer.lexEOS=function(e){e.width()>0&&e.emit(P.QueryLexer.TERM)},P.QueryLexer.termSeparator=P.tokenizer.separator,P.QueryLexer.lexText=function(e){for(;;){var t=e.next();if(t==P.QueryLexer.EOS)return P.QueryLexer.lexEOS;if(92!=t.charCodeAt(0)){if(":"==t)return P.QueryLexer.lexField;if("~"==t)return e.backup(),e.width()>0&&e.emit(P.QueryLexer.TERM),P.QueryLexer.lexEditDistance;if("^"==t)return e.backup(),e.width()>0&&e.emit(P.QueryLexer.TERM),P.QueryLexer.lexBoost;if("+"==t&&1===e.width())return e.emit(P.QueryLexer.PRESENCE),P.QueryLexer.lexText;if("-"==t&&1===e.width())return e.emit(P.QueryLexer.PRESENCE),P.QueryLexer.lexText;if(t.match(P.QueryLexer.termSeparator))return P.QueryLexer.lexTerm}else e.escapeCharacter()}},P.QueryParser=function(e,t){this.lexer=new P.QueryLexer(e),this.query=t,this.currentClause={},this.lexemeIdx=0},P.QueryParser.prototype.parse=function(){this.lexer.run(),this.lexemes=this.lexer.lexemes;for(var e=P.QueryParser.parseClause;e;)e=e(this);return this.query},P.QueryParser.prototype.peekLexeme=function(){return this.lexemes[this.lexemeIdx]},P.QueryParser.prototype.consumeLexeme=function(){var e=this.peekLexeme();return this.lexemeIdx+=1,e},P.QueryParser.prototype.nextClause=function(){var e=this.currentClause;this.query.clause(e),this.currentClause={}},P.QueryParser.parseClause=function(e){var t=e.peekLexeme();if(null!=t)switch(t.type){case P.QueryLexer.PRESENCE:return P.QueryParser.parsePresence;case P.QueryLexer.FIELD:return P.QueryParser.parseField;case P.QueryLexer.TERM:return P.QueryParser.parseTerm;default:var r="expected either a field or a term, found "+t.type;throw t.str.length>=1&&(r+=" with value '"+t.str+"'"),new P.QueryParseError(r,t.start,t.end)}},P.QueryParser.parsePresence=function(e){var t=e.consumeLexeme();if(null!=t){switch(t.str){case"-":e.currentClause.presence=P.Query.presence.PROHIBITED;break;case"+":e.currentClause.presence=P.Query.presence.REQUIRED;break;default:var r="unrecognised presence operator'"+t.str+"'";throw new P.QueryParseError(r,t.start,t.end)}var s=e.peekLexeme();if(null==s)throw r="expecting term or field, found nothing",new P.QueryParseError(r,t.start,t.end);switch(s.type){case P.QueryLexer.FIELD:return P.QueryParser.parseField;case P.QueryLexer.TERM:return P.QueryParser.parseTerm;default:throw r="expecting term or field, found '"+s.type+"'",new P.QueryParseError(r,s.start,s.end)}}},P.QueryParser.parseField=function(e){var t=e.consumeLexeme();if(null!=t){if(-1==e.query.allFields.indexOf(t.str)){var r=e.query.allFields.map((function(e){return"'"+e+"'"})).join(", "),s="unrecognised field '"+t.str+"', possible fields: "+r;throw new P.QueryParseError(s,t.start,t.end)}e.currentClause.fields=[t.str];var i=e.peekLexeme();if(null==i)throw s="expecting term, found nothing",new P.QueryParseError(s,t.start,t.end);if(i.type===P.QueryLexer.TERM)return P.QueryParser.parseTerm;throw s="expecting term, found '"+i.type+"'",new P.QueryParseError(s,i.start,i.end)}},P.QueryParser.parseTerm=function(e){var t=e.consumeLexeme();if(null!=t){e.currentClause.term=t.str.toLowerCase(),-1!=t.str.indexOf("*")&&(e.currentClause.usePipeline=!1);var r=e.peekLexeme();if(null!=r)switch(r.type){case P.QueryLexer.TERM:return e.nextClause(),P.QueryParser.parseTerm;case P.QueryLexer.FIELD:return e.nextClause(),P.QueryParser.parseField;case P.QueryLexer.EDIT_DISTANCE:return P.QueryParser.parseEditDistance;case P.QueryLexer.BOOST:return P.QueryParser.parseBoost;case P.QueryLexer.PRESENCE:return e.nextClause(),P.QueryParser.parsePresence;default:var s="Unexpected lexeme type '"+r.type+"'";throw new P.QueryParseError(s,r.start,r.end)}else e.nextClause()}},P.QueryParser.parseEditDistance=function(e){var t=e.consumeLexeme();if(null!=t){var r=parseInt(t.str,10);if(isNaN(r)){var s="edit distance must be numeric";throw new P.QueryParseError(s,t.start,t.end)}e.currentClause.editDistance=r;var i=e.peekLexeme();if(null!=i)switch(i.type){case P.QueryLexer.TERM:return e.nextClause(),P.QueryParser.parseTerm;case P.QueryLexer.FIELD:return e.nextClause(),P.QueryParser.parseField;case P.QueryLexer.EDIT_DISTANCE:return P.QueryParser.parseEditDistance;case P.QueryLexer.BOOST:return P.QueryParser.parseBoost;case P.QueryLexer.PRESENCE:return e.nextClause(),P.QueryParser.parsePresence;default:throw s="Unexpected lexeme type '"+i.type+"'",new P.QueryParseError(s,i.start,i.end)}else e.nextClause()}},P.QueryParser.parseBoost=function(e){var t=e.consumeLexeme();if(null!=t){var r=parseInt(t.str,10);if(isNaN(r)){var s="boost must be numeric";throw new P.QueryParseError(s,t.start,t.end)}e.currentClause.boost=r;var i=e.peekLexeme();if(null!=i)switch(i.type){case P.QueryLexer.TERM:return e.nextClause(),P.QueryParser.parseTerm;case P.QueryLexer.FIELD:return e.nextClause(),P.QueryParser.parseField;case P.QueryLexer.EDIT_DISTANCE:return P.QueryParser.parseEditDistance;case P.QueryLexer.BOOST:return P.QueryParser.parseBoost;case P.QueryLexer.PRESENCE:return e.nextClause(),P.QueryParser.parsePresence;default:throw s="Unexpected lexeme type '"+i.type+"'",new P.QueryParseError(s,i.start,i.end)}else e.nextClause()}},e.exports=P}()},e(t={path:undefined,exports:{},require:function(e,r){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==r&&t.path)}},t.exports),t.exports);r.Builder,r.FieldRef,r.Index,r.MatchData,r.Pipeline,r.Query,r.QueryLexer,r.QueryParseError,r.QueryParser,r.Set,r.Token,r.TokenSet,r.Vector,r.generateStopWordFilter,r.idf,r.stemmer,r.stopWordFilter,r.tokenizer,r.trimmer,r.utils,r.version;var umap=e=>({get:t=>e.get(t),set:(t,r)=>(e.set(t,r),r)});const s=/([^\s\\>"'=]+)\s*=\s*(['"]?)$/,i=/^(?:area|base|br|col|embed|hr|img|input|keygen|link|menuitem|meta|param|source|track|wbr)$/i,n=/<[a-z][^>]+$/i,a=/>[^<>]*$/,o=/<([a-z]+[a-z0-9:._-]*)([^>]*?)(\/>)/gi,l=/\s+$/,isNode=(e,t)=>0<t--&&(n.test(e[t])||!a.test(e[t])&&isNode(e,t)),regular=(e,t,r)=>i.test(t)?e:`<${t}${r.replace(l,"")}></${t}>`,{isArray:c}=Array,{indexOf:u,slice:h}=[],diffable=(e,t)=>111===e.nodeType?1/t<0?t?(({firstChild:e,lastChild:t})=>{const r=document.createRange();return r.setStartAfter(e),r.setEndAfter(t),r.deleteContents(),e})(e):e.lastChild:t?e.valueOf():e.firstChild:e,event=(e,t)=>{let r,s=t.slice(2);return!(t in e)&&t.toLowerCase()in e&&(s=s.toLowerCase()),t=>{const i=c(t)?t:[t,!1];r!==i[0]&&(r&&e.removeEventListener(s,r,i[1]),(r=i[0])&&e.addEventListener(s,r,i[1]))}},reducePath=({childNodes:e},t)=>e[t],diff=(e,t,r)=>((e,t,r,s,i)=>{const n=r.length;let a=t.length,o=n,l=0,c=0,u=null;for(;l<a||c<o;)if(a===l){const t=o<n?c?s(r[c-1],-0).nextSibling:s(r[o-c],0):i;for(;c<o;)e.insertBefore(s(r[c++],1),t)}else if(o===c)for(;l<a;)u&&u.has(t[l])||e.removeChild(s(t[l],-1)),l++;else if(t[l]===r[c])l++,c++;else if(t[a-1]===r[o-1])a--,o--;else if(t[l]===r[o-1]&&r[c]===t[a-1]){const i=s(t[--a],-1).nextSibling;e.insertBefore(s(r[c++],1),s(t[l++],-1).nextSibling),e.insertBefore(s(r[--o],1),i),t[a]=r[o]}else{if(!u){u=new Map;let e=c;for(;e<o;)u.set(r[e],e++)}if(u.has(t[l])){const i=u.get(t[l]);if(c<i&&i<o){let n=l,h=1;for(;++n<a&&n<o&&u.get(t[n])===i+h;)h++;if(h>i-c){const n=s(t[l],0);for(;c<i;)e.insertBefore(s(r[c++],1),n)}else e.replaceChild(s(r[c++],1),s(t[l++],-1))}else l++}else e.removeChild(s(t[l++],-1))}return r})(e.parentNode,t,r,diffable,e);function handlers(e){const{type:t,path:r}=e,s=r.reduceRight(reducePath,this);return"node"===t?(e=>{let t,r,s=[];const anyContent=i=>{switch(typeof i){case"string":case"number":case"boolean":t!==i&&(t=i,r||(r=document.createTextNode("")),r.data=i,s=diff(e,s,[r]));break;case"object":case"undefined":if(null==i){t!=i&&(t=i,s=diff(e,s,[]));break}if(c(i)){t=i,0===i.length?s=diff(e,s,[]):"object"==typeof i[0]?s=diff(e,s,i):anyContent(String(i));break}t!==i&&"ELEMENT_NODE"in i&&(t=i,s=diff(e,s,11===i.nodeType?h.call(i.childNodes):[i]));break;case"function":anyContent(i(e))}};return anyContent})(s):"attr"===t?((e,t)=>{switch(t[0]){case"?":return((e,t,r)=>s=>{r!==!!s&&((r=!!s)?e.setAttribute(t,""):e.removeAttribute(t))})(e,t.slice(1),!1);case".":return((e,t)=>"dataset"===t?(({dataset:e})=>t=>{for(const r in t){const s=t[r];null==s?delete e[r]:e[r]=s}})(e):r=>{e[t]=r})(e,t.slice(1));case"@":return event(e,"on"+t.slice(1));case"o":if("n"===t[1])return event(e,t)}switch(t){case"ref":return(e=>{let t;return r=>{t!==r&&(t=r,"function"==typeof r?r(e):r.current=e)}})(e);case"aria":return(e=>t=>{for(const r in t){const s="role"===r?r:"aria-"+r,i=t[r];null==i?e.removeAttribute(s):e.setAttribute(s,i)}})(e)}return((e,t)=>{let r,s=!0;const i=document.createAttributeNS(null,t);return t=>{r!==t&&(r=t,null==r?s||(e.removeAttributeNode(i),s=!0):(i.value=t,s&&(e.setAttributeNodeNS(i),s=!1)))}})(e,t)})(s,e.name):(e=>{let t;return r=>{t!=r&&(t=r,e.textContent=null==r?"":r)}})(s)}
/*! (c) Andrea Giammarchi - ISC */var d=function(e){var t="fragment",r="template",s="content"in create(r)?function(e){var t=create(r);return t.innerHTML=e,t.content}:function(e){var s=create(t),i=create(r),n=null;if(/^[^\S]*?<(col(?:group)?|t(?:head|body|foot|r|d|h))/i.test(e)){var a=RegExp.$1;i.innerHTML="<table>"+e+"</table>",n=i.querySelectorAll(a)}else i.innerHTML=e,n=i.childNodes;return append(s,n),s};return function(e,t){return("svg"===t?createSVG:s)(e)};function append(e,t){for(var r=t.length;r--;)e.appendChild(t[0])}function create(r){return r===t?e.createDocumentFragment():e.createElementNS("http://www.w3.org/1999/xhtml",r)}function createSVG(e){var r=create(t),s=create("div");return s.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+e+"</svg>",append(r,s.firstChild.childNodes),r}}(document);const p=1!=document.importNode.length,f=p?(e,t,r)=>document.importNode(d(e,t,r),!0):d,m=p?e=>document.createTreeWalker(e,129,null,!1):e=>document.createTreeWalker(e,129),createPath=e=>{const t=[];let{parentNode:r}=e;for(;r;)t.push(u.call(r.childNodes,e)),r=(e=r).parentNode;return t},y=umap(new WeakMap),g=/^(?:plaintext|script|style|textarea|title|xmp)$/i,mapTemplate=(e,t)=>{const r=((e,t,r)=>{const i=[],{length:n}=e;for(let t=1;t<n;t++){const r=e[t-1];i.push(s.test(r)&&isNode(e,t)?r.replace(s,((e,r,s)=>`is${t-1}=${s||'"'}${r}${s?"":'"'}`)):`${r}\x3c!--is${t-1}--\x3e`)}i.push(e[n-1]);const a=i.join("").trim();return r?a:a.replace(o,regular)})(t,0,"svg"===e),i=f(r,e),n=m(i),a=[],l=t.length-1;let c=0,u="is"+c;for(;c<l;){const e=n.nextNode();if(!e)throw"bad template: "+r;if(8===e.nodeType)e.data===u&&(a.push({type:"node",path:createPath(e)}),u="is"+ ++c);else{for(;e.hasAttribute(u);)a.push({type:"attr",path:createPath(e),name:e.getAttribute(u)}),e.removeAttribute(u),u="is"+ ++c;g.test(e.tagName)&&e.textContent.trim()===`\x3c!--${u}--\x3e`&&(e.textContent="",a.push({type:"text",path:createPath(e)}),u="is"+ ++c)}}return{content:i,nodes:a}},unroll=(e,{type:t,template:r,values:s})=>{const{length:i}=s;unrollValues(e,s,i);let{entry:n}=e;n&&n.template===r&&n.type===t||(e.entry=n=((e,t)=>{const{content:r,updates:s}=((e,t)=>{const{content:r,nodes:s}=y.get(t)||y.set(t,mapTemplate(e,t)),i=document.importNode(r,!0);return{content:i,updates:s.map(handlers,i)}})(e,t);return{type:e,template:t,content:r,updates:s,wire:null}})(t,r));const{content:a,updates:o,wire:l}=n;for(let e=0;e<i;e++)o[e](s[e]);return l||(n.wire=(e=>{const{childNodes:t}=e,{length:r}=t;if(r<2)return r?t[0]:e;const s=h.call(t,0);return{ELEMENT_NODE:1,nodeType:111,firstChild:s[0],lastChild:s[r-1],valueOf(){if(t.length!==r){let t=0;for(;t<r;)e.appendChild(s[t++])}return e}}})(a))},unrollValues=({stack:e},t,r)=>{for(let s=0;s<r;s++){const r=t[s];r instanceof Hole?t[s]=unroll(e[s]||(e[s]={stack:[],entry:null,wire:null}),r):c(r)?unrollValues(e[s]||(e[s]={stack:[],entry:null,wire:null}),r,r.length):e[s]=null}r<e.length&&e.splice(r)};function Hole(e,t,r){this.type=e,this.template=t,this.values=r}const{create:b,defineProperties:v}=Object,tag=e=>{const t=umap(new WeakMap);return v(((t,...r)=>new Hole(e,t,r)),{for:{value(r,s){const i=t.get(r)||t.set(r,b(null));return i[s]||(i[s]=(t=>(r,...s)=>unroll(t,{type:e,template:r,values:s}))({stack:[],entry:null,wire:null}))}},node:{value:(t,...r)=>unroll({stack:[],entry:null,wire:null},{type:e,template:t,values:r}).valueOf()}})},_=umap(new WeakMap),x=tag("html");function renderer(e,t){((e,t)=>{const r="function"==typeof t?t():t,s=_.get(e)||_.set(e,{stack:[],entry:null,wire:null}),i=r instanceof Hole?unroll(s,r):r;i!==s.wire&&(s.wire=i,e.textContent="",e.appendChild(i.valueOf()))})(t,e)}tag("svg");const w=Object.freeze({required:e=>`${e} is required`,maxlength:e=>`${e} is too long`,max:(e,t)=>`${e} must be less than or equal to ${t}`,minlength:e=>`${e} is too short`,min:(e,t)=>`${e} must be greater than or equal to ${t}`,pattern:e=>`${e} has a pattern mismatch`,badInput:e=>`${e} has bad input`,stepMismatch:e=>`${e} has a step mismatch`,typeMismatch:e=>`${e} is not in the correct syntax`,unknown:e=>`${e} has an unknown error`});function getFormComponent(e){switch(e.tagName.toLowerCase()){case"input":return e.closest("fc-form-input");case"select":return e.closest("fc-form-select");case"textarea":return e.closest("fc-form-textarea")}}const S={create(e){!function({createComponent:e,renderer:t,html:r}){e("fc-form",{renderer:t,props:{options:{type:Object}},created(){this._touchedElements={},this._customValidators={},this._messages={...w},this.props.options&&this.props.options.messages&&(this._messages={...this._messages,...this.props.options.messages}),this.props.options&&this.props.options.customValidators&&(this._customValidators={...this.props.options.customValidators})},onSubmit(e){e.preventDefault(),e.stopPropagation(),e.target.checkValidity()?this.emitFormEvent(e):this.showErrors(e.target)},showErrors(e){Array.from(e.elements).filter((e=>/input|select|textarea/.test(e.tagName.toLowerCase()))).forEach((e=>{this.setTouched(e),this.showError(e)}))},getFormData(){const e=this.querySelector("form"),t=new FormData(e),r={};for(const e of t.entries())r[e[0]]=e[1];return{formData:t,data:r}},getFormComponents(){const e=this.querySelector("form");return Array.from(e.elements).map((e=>getFormComponent(e)))},getNativeFormElements(){return this.querySelector("form").elements},addCustomValidator(e,t){this._customValidators[e]=t},onReset(e){e.preventDefault(),e.stopPropagation(),this.emitFormEvent(e)},onInput(e){this.handleInputOrChange(e)},onChange(e){this.handleInputOrChange(e)},emitFormEvent(e){const{formData:t,data:r}=this.getFormData(e.target);this.emit(e.type,{form:this,nativeFormElement:e.target,formData:t,data:r,originalEvent:e})},handleInputOrChange(e){e.preventDefault(),e.stopPropagation();const t=e.target;this.setTouched(t),this.showError(t);const r=getFormComponent(t);this.emit(e.type,{component:r,nativeFormElement:t,name:t.getAttribute("name"),value:e.target.value,originalEvent:e})},setTouched(e){const t=e.getAttribute("name");t&&!this._touchedElements[t]&&(this._touchedElements[t]={formInput:e,touched:!0},e.classList.add("ms-is-touched"))},showError(e){const t=getFormComponent(e),r=e.closest(".fc-form-group"),s=r.querySelector(".fc-form-invalid-feedback"),i=r.querySelector(".fc-form-help-text"),clearInputValidation=()=>{e.setCustomValidity(""),s.textContent="",s.classList.remove("fc-form-invalid-feedback--show"),i.style.display="block"},n=t?t.getAttribute("label"):"Input",a=e.getAttribute("name");if(a&&this._customValidators[a]){const t=this._customValidators[a](n,e.value,e);t?(e.setCustomValidity(t),s.textContent=t,s.classList.add("fc-form-invalid-feedback--show"),i.style.display="none"):clearInputValidation()}else e.validity.valid?clearInputValidation():(s.textContent=this.getMessage(e,n),s.classList.add("fc-form-invalid-feedback--show"),i.style.display="none")},getMessage(e,t){return e.validity.valueMissing?this._messages.required(t):e.validity.badInput?this._messages.badInput(t):e.validity.patternMismatch?this._messages.pattern(t):e.validity.rangeOverflow?this._messages.max(t,e.max):e.validity.rangeUnderflow?this._messages.min(t,e.min):e.validity.stepMismatch?this._messages.stepMismatch(t):e.validity.tooLong?this._messages.maxlength(t):e.validity.tooShort?this._messages.minlength(t):e.validity.typeMismatch?this._messages.typeMismatch(t):this._messages.unknown(t)},mounted(){const e=this.querySelector("form");e.addEventListener("submit",this.onSubmit),e.addEventListener("reset",this.onReset),e.addEventListener("input",this.onInput),e.addEventListener("change",this.onChange),this.classList.add("fc-form-container")},render(){return r`<form novalidate>${this.slots.default}</form>`}})}(e)}},E={autocomplete:{type:String},autofocus:{type:Boolean},disabled:{type:Boolean},helpText:{type:String},id:{type:String},label:{type:String},name:{type:String,required:!0},readonly:{type:Boolean},required:{type:Boolean},size:{type:Number,default:20},tabindex:{type:Number},title:{type:String},accept:{type:String},capture:{type:String},checked:{type:Boolean,default:!1},dirname:{type:String},inline:{type:Boolean},inputmode:{type:String},list:{type:String},max:{type:Number,default:Number.MAX_VALUE},maxlength:{type:Number,default:0},min:{type:Number,default:Number.MIN_VALUE},minlength:{type:Number,default:0},multiple:{type:Boolean,default:!1},pattern:{type:String},placeholder:{type:String},step:{type:Number,default:1},switch:{type:Boolean},type:{type:String,default:"text"},value:{type:String}},C=Object.freeze({CHECKBOX:"checkbox",COLOR:"color",DATE:"date",DATE_TIME:"datetime-local",EMAIL:"email",FILE:"file",HIDDEN:"hidden",MONTH:"month",NUMBER:"number",PASSWORD:"password",RADIO:"radio",RANGE:"range",SEARCH:"search",SUBMIT:"submit",TEL:"tel",TEXT:"text",TIME:"time",URL:"url",WEEK:"week"}),T=[C.DATE,C.MONTH,C.WEEK,C.TIME,C.DATE_TIME,C.NUMBER,C.RANGE],k=[C.PASSWORD,C.SEARCH,C.TEL,C.TEXT,C.URL],L=[C.HIDDEN,C.SUBMIT],O={accept:[C.FILE],capture:[C.FILE],dirname:[C.SEARCH,C.TEXT],max:T,maxlength:k,min:T,minlength:k,multiple:[C.EMAIL,C.FILE],pattern:[C.PASSWORD,C.TEL,C.TEXT],placeholder:k,size:[C.EMAIL,C.PASSWORD,C.TEL,C.TEXT],step:T,tabindex:Object.values(C)},I={max:Number.MAX_VALUE,maxlength:E.maxlength.default,min:Number.MIN_VALUE,minlength:E.minlength.default,multiple:E.multiple.default,size:E.size.default,step:1,tabindex:0},Q=["id","label","helpText"];function toKebabCase(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}function setBooleanAttribute(e,t,r,s){const i=function(e){return e||void 0}(s),n=toKebabCase(t);e.hasAttribute(n)&&!i?e.removeAttribute(n):i&&e.setAttribute(n,"")}function setNumericAttribute(e,t,r,s,i){let n=s;"select"===e.tagName.toLowerCase()||"textarea"===e.tagName.toLowerCase()?n=function(e,t){return 0!==e&&e!==t?e:void 0}(s,I[t]):"input"===e.tagName.toLowerCase()&&O[t]&&(n=function(e,t,r,s){return-1!==t.indexOf(e.type)&&r!==s?r:void 0}(i,O[t],s,I[t]));const a=toKebabCase(t);e.hasAttribute(a)&&null==n?e.removeAttribute(a):null!=n&&e.setAttribute(a,n)}function setAttribute(e,t,r,s,i){if(function(e){return-1!==Q.indexOf(e)}(t))return;let n=r;O[t]&&(n=function(e,t,r,s){return-1!==t.indexOf(e.type)&&void 0!==r?r:void 0}(s,O[t],r));const a=toKebabCase(t);e.hasAttribute(a)&&null==n?e.removeAttribute(a):null!=n&&e.setAttribute(a,n)}function setAttributes(e,t,r){for(const s in r)switch(t[s].type){case Boolean:setBooleanAttribute(e,s,t[s],r[s]);break;case Number:setNumericAttribute(e,s,t[s],r[s],r);break;default:setAttribute(e,s,r[s],r)}}function createInput({createComponent:e,renderer:t,html:r,nothing:s}){e("fc-form-input",{renderer:t,props:E,computed:{internalId(){return this.props.id?this.props.id:`${"input"?"input-":""}${Date.now().toString(36)+Math.random().toString(36).substr(2)}`},className(){return this.props.switch?"fc-form-switch":this.props.type===C.RANGE?"fc-form-range":this.props.type===C.SUBMIT?"fc-form-submit":"fc-form-control"},containerClassName(){return this.props.inline||this.props.type===C.SUBMIT?"fc-form-group fc-form-group--inline":this.props.type===C.RADIO||this.props.type===C.CHECKBOX?"fc-form-group fc-form-group--rc":"fc-form-group"},inputClassName(){return this.props.type===C.RADIO||this.props.type===C.CHECKBOX?"fc-input-inline-wrapper":"fc-input-wrapper"},labelClassName(){return"fc-form-label"+(this.props.inline?"":" fc-form-label--block")},isValidType(){return-1!==Object.values(C).indexOf(this.props.type)},for(){return L.indexOf(this.props.type)>-1||!this.props.label?"":this.internalId}},created(){if(!this.isValidType)throw new Error(`${this.props.type} is not a valid input type`);this.classList.add("fc-form-input")},mounted(){setAttributes(this.querySelector("input"),E,this.props)},updated(){setAttributes(this.querySelector("input"),E,this.props)},render(){return this.isValidType?r`<div class="fc-form-group"><div class="${this.inputClassName}"><label class="${this.labelClassName}" for="${this.for}">${this.props.label}</label> <input name="${this.props.name}" id="${this.internalId}" type="${this.props.type}" class="${this.className}"> ${this.slots.default}</div><div aria-live="polite" class="fc-form-invalid-feedback"><span></span></div><div class="fc-form-help-text">${this.props.helpText}</div></div>`:s}})}const A={create(e){createInput(e)}};use(S,{renderer:renderer,html:x}),use(A,{renderer:renderer,html:x}),createCustomElement("docs-search",withLocalState({renderer:renderer,state:()=>({search:{loaded:!1,error:null,query:null,results:[]}}),mounted(){window._ficusDocsSearchResults=window._ficusDocsSearchResults||{docs:null,idx:null},Promise.all([window.fetch("/assets/search-docs.json").then((e=>e.json())),window.fetch("/assets/search-index.json").then((e=>e.json()))]).then((e=>{window._ficusDocsSearchResults.docs=e[0],window._ficusDocsSearchResults.idx=r.Index.load(e[1]),this.state.search={loaded:!0,query:null,error:null,results:[]},setTimeout((()=>{const e=this.querySelector('input[type="search"]');e&&e.focus()}),300)})).catch((e=>{this.state.search={loaded:!0,query:null,error:e,results:[]}}))},onSubmit(e){e.preventDefault();const t=this.querySelector('input[type="search"]');if(t.value.length<1)this.state.search={...this.state.search,query:t.value,error:null,results:[]};else{const e=t.value,r=window._ficusDocsSearchResults.idx.query((function(t){t.term(e,{usePipeline:!0,boost:100}),t.term(e+"*",{usePipeline:!1,boost:10}),t.term(e,{usePipeline:!1,editDistance:1})})),s=[];r.forEach((e=>{s.push(window._ficusDocsSearchResults.docs[e.ref])})),this.state.search={...this.state.search,query:e,error:null,results:s}}},render(){return this.state.search.loaded?this.state.search.error?x`<div class="error">An error occurred</div>`:x`
        <fc-form onsubmit="${this.onSubmit}">
          <fc-form-input type="search" name="query" placeholder="Search..."></fc-form-input>
        </fc-form>
        <section>
          ${this.state.search.results.map((e=>x`
            <article class="[ fu-spacing-mt-07 ]">
              <a href="${e.url}"><h3>${e.title}</h3></a>
              <p>${e.excerpt}</p>
            </article>
          `))}
        </section>
      `:x`<div class="loading">Loading...</div>`}}));
//# sourceMappingURL=search.mjs.map
